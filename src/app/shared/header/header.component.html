<nav class="navbar navbar-expand-lg navbar-app shadow-sm sticky-top" *ngIf="showHeader$ | async">
  <div class="container-fluid align-items-center">
    <div class="d-flex align-items-center gap-2">
      <button
        class="btn btn-icon d-lg-none"
        type="button"
        aria-label="Abrir menú"
        (click)="toggleSidebar()">
        <i class="bi bi-list"></i>
      </button>
      <a class="navbar-brand d-flex align-items-center gap-2 text-white" routerLink="/">
        <img src="./assets/icons/ios/32.png" alt="logo" width="28" height="28">
        <span class="fw-semibold">Saldos</span>
      </a>
    </div>

    <div class="d-flex align-items-center gap-3 ms-auto">
      <div class="d-none d-lg-flex align-items-center gap-2 text-white">
        <div class="avatar-sm">{{alias}}</div>
        <div class="text-start lh-sm">
          <div class="fw-semibold">{{nombreuser}}</div>
          <small class="text-white-50">{{tipousuario}}</small>
        </div>
      </div>

      <div class="dropdown">
        <button class="btn btn-light dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
          <i class="bi bi-person-circle me-1"></i> {{rol}}
        </button>
        <ul class="dropdown-menu dropdown-menu-end">
          <li class="dropdown-header text-uppercase small text-muted">Navegación</li>
          <li *ngIf="showAdmin$ | async"><a class="dropdown-item" routerLink="/admin" (click)="closeMenu()">Cargar cartera</a></li>
          <li *ngIf="showAdmin$ | async"><a class="dropdown-item" routerLink="admin/agente" (click)="closeMenu()">Cuentas del representante</a></li>
          <li *ngIf="showAdmin$ | async"><a class="dropdown-item" routerLink="admin/clientes" (click)="closeMenu()">Clientes</a></li>
          <li *ngIf="showAdmin$ | async"><a class="dropdown-item" routerLink="admin/incidencias" (click)="closeMenu()">Cuentas sin incidencias</a></li>
          <li *ngIf="showAdmin$ | async"><a class="dropdown-item" routerLink="admin/conincidencias" (click)="closeMenu()">Cuentas con incidencias</a></li>
          <li *ngIf="showAdminDown$ | async"><a class="dropdown-item" routerLink="admin/incidencias" (click)="closeMenu()">Cuentas sin incidencias</a></li>
          <li *ngIf="showAdminDown$ | async"><a class="dropdown-item" routerLink="admin/conincidencias" (click)="closeMenu()">Cuentas con incidencias</a></li>
          <li *ngIf="showRepresentante$ | async"><a class="dropdown-item" routerLink="/agente" (click)="closeMenu()">Cuentas del representante</a></li>
          <li><hr class="dropdown-divider"></li>
          <li><button class="dropdown-item text-danger" (click)="logoutSys()">Cerrar sesión</button></li>
        </ul>
      </div>
    </div>
  </div>
</nav>
